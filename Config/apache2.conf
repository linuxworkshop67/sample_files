# ===================================================================
# Apache2 main configuration file (example template)
# ===================================================================

# -------------------------
# Global configuration
# -------------------------
ServerTokens Prod
ServerSignature Off
Timeout 300
KeepAlive On
MaxKeepAliveRequests 100
KeepAliveTimeout 5

User www-data
Group www-data

HostnameLookups Off

# -------------------------
# Logging settings
# -------------------------
LogLevel warn

ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined

# -------------------------
# Load configuration files
# -------------------------
# Modular approach used by Debian/Ubuntu
IncludeOptional mods-enabled/*.load
IncludeOptional mods-enabled/*.conf
Include ports.conf

# -------------------------
# Default charset
# -------------------------
AddDefaultCharset UTF-8

# -------------------------
# Directory configuration
# -------------------------

<Directory />
    Options FollowSymLinks
    AllowOverride None
    Require all denied
</Directory>

<Directory /usr/share>
    AllowOverride None
    Require all granted
</Directory>

<Directory /var/www/>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
</Directory>

# -------------------------
# File security
# -------------------------
<FilesMatch "^\.ht">
    Require all denied
</FilesMatch>

# -------------------------
# MIME types
# -------------------------
TypesConfig /etc/mime.types

# -------------------------
# SSL configuration
# -------------------------
# (This is a template block â€” uncomment if needed)
#
#<IfModule mod_ssl.c>
#    SSLRandomSeed startup builtin
#    SSLRandomSeed connect builtin
#</IfModule>

# -------------------------
# Prefork MPM (example)
# -------------------------
<IfModule mpm_prefork_module>
    StartServers           2
    MinSpareServers        2
    MaxSpareServers        5
    MaxRequestWorkers     150
    MaxConnectionsPerChild 3000
</IfModule>

# -------------------------
# Worker MPM (example)
# -------------------------
<IfModule mpm_worker_module>
    StartServers          2
    MinSpareThreads      25
    MaxSpareThreads      75
    ThreadsPerChild      25
    MaxRequestWorkers   150
    MaxConnectionsPerChild 3000
</IfModule>

# -------------------------
# Event MPM (example)
# -------------------------
<IfModule mpm_event_module>
    StartServers            2
    MinSpareThreads        25
    MaxSpareThreads        75
    ThreadsPerChild        25
    MaxRequestWorkers     150
    MaxConnectionsPerChild 3000
</IfModule>

# -------------------------
# Additional config files
# -------------------------

# Virtual hosts
IncludeOptional sites-enabled/*.conf

# Security rules (if used)
IncludeOptional security/*.conf

# Performance tuning includes (if used)
IncludeOptional performance/*.conf

